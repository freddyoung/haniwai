{% load static %}
{% load wagtailcore_tags %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>{% firstof self.seo_title self.title %} | HANIWAI</title>

    <meta name="description" content="{% firstof self.search_description 'HANIWAI is a Papua New Guinea-based nonprofit empowering indigenous women, promoting gender equality, and advocating for environmental sustainability.' %}">
    <meta name="keywords" content="HANIWAI, Indigenous Women PNG, Gender Equality, Environmental Advocacy, Women Rights PNG, Humanitarian NGO, Climate Change Papua New Guinea">
    <link rel="canonical" href="https://www.haniwai.org{{ request.path }}" />
    <link rel="alternate" hreflang="en" href="https://www.haniwai.org{{ request.path }}" />
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="{% firstof self.seo_title self.title %} | HANIWAI">
    <meta property="og:description" content="{% firstof self.search_description 'Empowering women and protecting nature in PNG.' %}">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.haniwai.org{{ request.path }}">
    <meta property="og:image" content="{% if self.og_image %}{{ self.og_image.url }}{% else %}https://www.haniwai.org/static/images/social-preview.jpeg{% endif %}">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{% firstof self.seo_title self.title %} | HANIWAI">
    <meta name="twitter:description" content="{% firstof self.search_description 'Join us in preserving indigenous culture, empowering women, and protecting our natural world.' %}">
    <meta name="twitter:image" content="{% if self.og_image %}{{ self.og_image.url }}{% else %}https://www.haniwai.org/static/images/social-preview.jpeg{% endif %}">
    
    {% if self.no_index %}
      <meta name="robots" content="noindex, nofollow">
    {% else %}
      <meta name="robots" content="index, follow">
    {% endif %}

  
    <!-- JSON-LD Organization Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "NonProfitOrganization",
      "name": "Humanity and Nature Indigenous Women’s Association Inc.",
      "url": "https://www.haniwai.org",
      "logo": "https://www.haniwai.org/static/images/haniwa_logo.png",
      "founder": {
        "@type": "Person",
        "name": "Maryanne Rimbao"
      },
      "foundingDate": "2023",
      "address": {
        "@type": "PostalAddress",
        "addressLocality": "Port Moresby",
        "addressRegion": "NCD",
        "addressCountry": "Papua New Guinea"
      },
      "email": "info@haniwai.org",
      "telephone": "+67572067138",
      "sameAs": [
        "https://facebook.com",
        "https://twitter.com",
        "https://instagram.com",
        "https://linkedin.com"
      ]
    }
    </script>
  
    <!-- Styles -->
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@glidejs/glide/dist/css/glide.core.min.css">

    <link rel="icon" type="image/png" sizes="32x32" href="{% static 'images/haniwa_logo.png' %}">
    <link rel="icon" type="image/png" sizes="16x16" href="{% static 'images/haniwa_logo.ico' %}">
    <link rel="shortcut icon" type="image/x-icon" href="{% static 'images/haniwa_logo.ico' %}">
    <link rel="apple-touch-icon" sizes="180x180" href="{% static 'images/haniwa_logo.ico' %}">
    <link rel="manifest" href="{% static 'site.webmanifest' %}"> {# Optional: for Progressive Web Apps #}
    <meta name="theme-color" content="#ffffff"> {# Optional: sets theme color for some browsers #}

    {% block extra_head %}
      {{ block.super }}
      {% if self.get_structured_data %}
        <script type="application/ld+json">
          {{ self.get_structured_data|safe|json_script:"structured-data" }}
        </script>
      {% endif %}
    {% endblock %}

  </head>
  
<body>

    <!-- ✅ Fixed Top Navbar -->
    <div class="top-nav">
        <div class="top-nav-container">
            <div class="top-nav-left">
                <a href="/partners">Resources</a> | <a href="/faqs">FAQs</a>
            </div>
            <div class="top-nav-right">
                <span>Email: info@haniwai.org</span> | <span>Phone: (+675) 7206 7138 / 7873 0275</span>
            </div>
        </div>
    </div>
    <div class="menu-backdrop"></div>

    <!-- ✅ Main Navbar -->
    <header>
        <nav>
            <div class="nav-container">

                <!-- ✅ Burger Icon -->

                <div class="logo-container">
                    <a href="/" class="logo">
                        <img src="{% static 'images/haniwa_logo.png' %}" alt="Haniwai NGO Logo">
                    </a>
                    <a href="/" class="logo second-logo">
                        <img src="{% static 'images/haniwai.org.png' %}" alt="Partner Logo">
                    </a>
                </div>

                <div class="nav-actions">
                  <a href="/donate-now/" class="donate-btn mobile-only {% if request.path == '/donate-now/' %}active-donate{% endif %}">DONATE <span class="heart"></span></a>                    <div class="menu-toggle">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>    
                </div>

                <!-- ✅ Nav Links -->
            
                <ul class="nav-links">
                    <li><a href="/" class="nav-home-icon {% if request.path == '/' %}active{% endif %}" aria-label="Home"></a></li>
                    <li><a href="/about-us/" class="{% if request.path == '/about-us/' %}active{% endif %}">Who We Are</a></li>
                    <li><a href="/gallery/" class="{% if request.path == '/gallery/' %}active{% endif %}">Gallery</a></li>
                    <li><a href="/events/" class="{% if request.path == '/events/' %}active{% endif %}">News & Events</a></li>
                    <li><a href="/contact/" class="{% if request.path == '/contact/' %}active{% endif %}">Contact</a></li>
                    <li class="desktop-donate"><a href="/donate-now/" class="donate-btn {% if request.path == '/donate-now/' %}active-donate{% endif %}">DONATE <span class="heart"></span></a></li>                    
                    <li class="mobile-only"><a href="/partners">Resources</a></li>
                    <li class="mobile-only"><a href="/faqs">FAQs</a></li>  
                </ul>
            </div>
        </nav>
    </header>

    <!-- ✅ Main Content -->
    <main>
        {% block content %}{% endblock %}
    </main>

    <!-- ✅ Pre-Footer Donate Section -->
    {% block prefooter %}
    <section class="pre-footer">
        <h2>Help Us Reach Our Goals</h2>
        <a href="/donate-now/" class="footer-donate-btn">DONATE</a>
    </section>
    {% endblock %}
    

    <!-- ✅ Footer -->
    <footer>
        <div class="footer-container">
          <div class="footer-left">
            <div class="footer-about">
              <h3>About</h3>
              <p>We empower women and marginalized communities in Papua New Guinea by providing shelter, advocacy, and environmental protection.</p>
            </div>
            <div class="footer-newsletter">
              <h3>Stay Updated</h3>
              <p>Sign up for our newsletter!</p>
              <form action="#" method="post">
                <input type="email" placeholder="Enter your email" required>
                <button type="submit">Subscribe</button>
              </form>
            </div>
          </div>
      
          <div class="footer-center">
            <div class="footer-links">
              <h3>Quick Links</h3>
              <div class="quick-links-grid">
                <ul>
                    <li><a href="/faqs/">FAQs</a></li>
                  <li><a href="/about-us/">Who We Are</a></li>
                  <li><a href="/gallery/">Gallery</a></li>
                </ul>
                <ul>
                  <li><a href="/events/">Events</a></li>
                  <li><a href="/contact/">Contact</a></li>
                  <li><a href="/partners/">Partners</a></li>
                </ul>
              </div>
            </div>
      
            <div class="footer-contact">
              <p>Email: <a href="mailto:info@haniwai.org">info@haniwai.org</a></p>
              <p>Phone: <a href="tel:+67572067138">(+675) 7206 7138 / 7873 0275</a></p>
            </div>
      
            <div class="footer-social">
              <div class="social-icons">
                <a href="https://facebook.com" target="_blank" class="social-link"><i class="fab fa-facebook-f"></i></a>
                <a href="https://twitter.com" target="_blank" class="social-link"><i class="fab fa-x-twitter"></i></a>
                <a href="https://instagram.com" target="_blank" class="social-link"><i class="fab fa-instagram"></i></a>
                <a href="https://linkedin.com" target="_blank" class="social-link"><i class="fab fa-linkedin-in"></i></a>
                <a href="https://pinterest.com" target="_blank" class="social-link"><i class="fab fa-pinterest-p"></i></a>
                <a href="https://youtube.com" target="_blank" class="social-link"><i class="fab fa-youtube"></i></a>
              </div>
            </div>
          </div>
      
          <div class="footer-right">
            <img src="{% static 'images/footer.png' %}" alt="Footer Image">
          </div>
        </div>
      
        <div class="footer-bottom">
          <p>© 2025 <b>Humanity and Nature Indigenous Women's Association Incorporated</b>. All rights reserved.</p>
        </div>
      </footer>
      
      

    <!-- ✅ JavaScript -->
    <script>
        // Burger Menu Toggle
        const menuToggle = document.querySelector(".menu-toggle");
        const navLinks = document.querySelector(".nav-links");

        menuToggle.addEventListener("click", () => {
            navLinks.classList.toggle("active");
            menuToggle.classList.toggle("active");
            document.body.classList.toggle("menu-open");
        });


        

        // Scroll Behavior
        let lastScroll = 0;
        window.addEventListener('scroll', () => {
          const body = document.body;
          const currentScroll = window.pageYOffset;
          
          if (currentScroll > 50 && currentScroll > lastScroll) {
            body.classList.add('hide-top-bar');
          } else if (currentScroll < lastScroll) {
            body.classList.remove('hide-top-bar');
          }
        
          lastScroll = currentScroll;
        });
        

        // Light/Dark Mode Toggle
        const toggleTheme = document.querySelector('.toggle-theme');
        if (toggleTheme) {
            toggleTheme.addEventListener('click', () => {
                const currentTheme = document.documentElement.getAttribute('data-theme');
                document.documentElement.setAttribute('data-theme', currentTheme === 'dark' ? 'light' : 'dark');
            });
        }
    </script>

    <script src="{% static 'js/script.js' %}"></script>



  <script>
    const form = document.getElementById("contact-form");
    const message = document.getElementById("form-message");
    
    form.addEventListener("submit", function (e) {
      e.preventDefault();
    
      const formData = new FormData(form);
    
      fetch("https://formspree.io/f/xyzedndw", {
        method: "POST",
        body: formData,
        headers: {
          Accept: "application/json",
        },
      })
        .then((response) => {
          if (response.ok) {
            message.textContent = "✅ Message sent successfully! We'll get back to you shortly.";
            message.className = "form-feedback success";
            form.reset();
          } else {
            message.textContent = "❌ Oops! Something went wrong. Please check any missing input";
            message.className = "form-feedback error";
          }
        })
        .catch(() => {
          message.textContent = "❌ Could not send message.";
          message.className = "form-feedback error";
        });
    });
    
  </script>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const faders = document.querySelectorAll('.fade-in-up');
  
      const observer = new IntersectionObserver(entries => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');
            observer.unobserve(entry.target); // Optional: remove observer after first trigger
          }
        });
      }, {
        threshold: 0.3
      });
  
      faders.forEach(fader => {
        observer.observe(fader);
      });
    });
  </script>
  <script>
    const burger = document.querySelector('.menu-toggle');
    const navLinks = document.querySelector('.nav-links');

      burger.addEventListener('click', () => {
      burger.classList.toggle('active');
      navLinks.classList.toggle('active');
      document.body.classList.toggle('menu-open'); // ✅ triggers the backdrop
    });
  </script>

  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Get the button element
      const backToTopButton = document.getElementById('back-to-top');
  
      // Define the scroll distance (in pixels) after which the button appears
      // window.innerHeight is the height of the viewport. You can use a fixed value too (e.g., 400).
      const showOnPx = window.innerHeight * 0.6; // Show after scrolling 60% of the viewport height
  
      // Function to toggle button visibility based on scroll position
      const scrollContainer = () => {
        return document.documentElement || document.body;
      };
  
      const checkScrollPosition = () => {
        if (scrollContainer().scrollTop > showOnPx) {
          backToTopButton.classList.add('visible');
        } else {
          backToTopButton.classList.remove('visible');
        }
      };
  
      // Function to smoothly scroll back to the top
      const goToTop = (event) => {
          event.preventDefault(); // Prevent the default anchor link behavior (#)
          // Use smooth scrolling native browser API
          window.scrollTo({
              top: 0,
              behavior: 'smooth'
          });
  
          // Fallback for older browsers (less common now)
          // document.body.scrollTop = 0; // For Safari
          // document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
      };
  
      // Add event listeners
      document.addEventListener('scroll', checkScrollPosition); // Check visibility on scroll
      backToTopButton.addEventListener('click', goToTop);      // Scroll to top on click
  
      // Initial check in case the page loads already scrolled down
      checkScrollPosition();
    });
  </script>
  

{% block extra_js %}{% endblock %}

<a href="#" id="back-to-top" class="back-to-top-btn" aria-label="Back to top" title="Back to Top">
  <i class="fas fa-arrow-up"></i> </a>

</body>
</html>
